<div id="rule-applied">
  <div class="container">
    <div class="item">Item 1</div>
    <div class="item">Item 2</div>
    <div class="item">Item 3</div>
    <div class="item">Item 4</div>
    <div class="item">Item 5</div>
    <div class="item">Item 6</div>
    <div class="item">Item 7</div>
    <div class="item">Item 8</div>
    <div class="item">Item 9</div>
    <div class="item">Item 10</div>
  </div>
</div>

<style>
  .container {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
    padding: 20px;
  }
  .item {
    padding: 20px;
    background: #f0f0f0;
    text-align: center;
  }
  .highlight {
    background: #4CAF50;
    color: white;
  }
</style>

<script>
  const measurePerformance = () => {
    const ruleApplied = document.getElementById('rule-applied');
    
    console.time('Rule Applied');
    const cachedItems = ruleApplied.querySelectorAll('.item');
    for (let i = 0; i < 5_000_000; i++) {
      const item = cachedItems[i % cachedItems.length];
      item.classList.toggle('highlight');
    }
    console.timeEnd('Rule Applied');
  };

  // Run measurement after load
  window.addEventListener('load', measurePerformance);
</script> 